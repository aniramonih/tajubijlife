<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content="With C# 6.0 in the VS2015 preview we have a new operator, ?., which can be used like this: What exactly does it do? It's the null conditional operator. It basically means: &amp;quot;Evaluate the first operand; if that's null, stop, with a result of null. Otherwise, evaluate the second operand (as a member access of"><meta name=author content="Patria Henriques"><meta name=generator content="Hugo 0.98.0"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=robots content="index,follow,noarchive"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/base16/css/style.css type=text/css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type=text/css><link rel=alternate href=./index.xml type=application/rss+xml title=ZBlogY><title>What does question mark and dot operator ?. mean in C# 6.0? - ZBlogY</title></head><body><header><div class="container clearfix"><a class=path href=./index.html>[ZBlogY]</a>
<span class=caret># _</span><div class=right></div></div></header><div class=container><main role=main class=article><article class=single itemscope itemtype=http://schema.org/BlogPosting><div class=meta><span class=key>published on</span>
<span class=val><time itemprop=datePublished datetime=2024-08-19>August 19, 2024</time></span>
<span class=key>in</span>
<span class=val><a href=./categories/post>post</a></span></div><h1 class=headline itemprop=headline>What does question mark and dot operator ?. mean in C# 6.0?</h1><section class=body itemprop=articleBody><img src=https://cdn.statically.io/img/cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto><p>With C# 6.0 in the VS2015 preview we have a new operator, <strong><code>?.</code></strong>, which can be used like this:</p><pre class="lang-cs prettyprint-override"><code>public class A { string PropertyOfA { get; set; } } ... var a = new A(); var foo = "bar"; if(a?.PropertyOfA != foo) { //somecode } </code></pre><p>What exactly does it do?</p><span class=d-none itemprop=commentCount>1</span><h2 class=mb0 data-answercount=3>3 Answers</h2><p>It's the <a href=# rel=noreferrer>null conditional</a> operator. It basically means:</p><p>"Evaluate the first operand; if that's null, stop, with a result of null. Otherwise, evaluate the second operand (as a member access of the first operand)."</p><p>In your example, the point is that if <code>a</code> is <code>null</code>, then <code>a?.PropertyOfA</code> will evaluate to <code>null</code> rather than throwing an exception - it will then compare that <code>null</code> reference with <code>foo</code> (using string's <code>==</code> overload), find they're not equal and execution will go into the body of the <code>if</code> statement.</p><p>In other words, it's like this:</p><pre><code>string bar = (a == null ? null : a.PropertyOfA); if (bar != foo) { ... } </code></pre><p>... except that <code>a</code> is only evaluated once.</p><p>Note that this can change the type of the expression, too. For example, consider <a href=# rel=noreferrer><code>FileInfo.Length</code></a>. That's a property of type <code>long</code>, but if you use it with the null conditional operator, you end up with an expression of type <code>long?</code>:</p><pre><code>FileInfo fi = ...; // fi could be null long? length = fi?.Length; // If fi is null, length will be null </code></pre><span class=d-none itemprop=commentCount>23</span><p>It can be very useful when flattening a hierarchy and/or mapping objects. Instead of:</p><pre><code>if (Model.Model2 == null || Model.Model2.Model3 == null || Model.Model2.Model3.Model4 == null || Model.Model2.Model3.Model4.Name == null) { mapped.Name = "N/A" } else { mapped.Name = Model.Model2.Model3.Model4.Name; } </code></pre><p>It can be written like (same logic as above)</p><pre><code>mapped.Name = Model.Model2?.Model3?.Model4?.Name ?? "N/A"; </code></pre><p><a href=# rel=noreferrer>DotNetFiddle.Net Working Example</a>.</p><p>(the <a href=# rel=noreferrer>?? or null-coalescing operator</a> is different than the <a href=# rel=noreferrer>? or null conditional operator</a>).</p><p>It can also be used out side of assignment operators with Action. Instead of</p><pre><code>Action&lt;TValue&gt; myAction = null; if (myAction != null) { myAction(TValue); } </code></pre><p>It can be simplified to:</p><pre><code>myAction?.Invoke(TValue); </code></pre><p><a href=# rel=noreferrer>DotNetFiddle Example</a>:</p><p>using System;</p><pre><code>public class Program { public static void Main() { Action&lt;string&gt; consoleWrite = null; consoleWrite?.Invoke("Test 1"); consoleWrite = (s) =&gt; Console.WriteLine(s); consoleWrite?.Invoke("Test 2"); } } </code></pre><p>Result:</p><p>Test 2</p><p>Basically, I have applied ?. operator after Model as well. I am trying to know that whether it can be applied directly to the model or does it only work with the navigation properties?</p><p>The <a href=# rel=noreferrer>? or null conditional operator</a> operators on the left value, regardless of the type of value. And the compiler doesn't care what the value is on the right. It's simple compiler magic (meaning it does something you can already do, just in a simplified why).</p><p>For example</p><pre><code> var a = model?.Value; </code></pre><p>is the same as saying</p><pre><code> var a = model == null ? null : model.Value; </code></pre><p>In the second case the evaluation of checking for null has no associate with the value returned. The null conditional operator basically just always return null if the left value is null.</p><p>The type of member (Method, Field, Property, Constructor) <code>.Value</code> is irrelevant.</p><p>The reason your DotNetFiddle example doesn't work is because the compiler being use for the <code>.Net 4.7.2</code> isn't compatible with the c# version that support the null conditional operator. Changing it to .Net 5, works:</p><p><a href=# rel=noreferrer>https://dotnetfiddle.net/7EWoO5</a></p><span class=d-none itemprop=commentCount>8</span><p>This is relatively new to C# which makes it easy for us to call the functions with respect to the null or non-null values in method chaining.</p><p>old way to achieve the same thing was:</p><pre><code>var functionCaller = this.member; if (functionCaller!= null) functionCaller.someFunction(var someParam); </code></pre><p>and now it has been made much easier with just:</p><pre><code>member?.someFunction(var someParam); </code></pre><p>I strongly recommend <a href=# rel=noreferrer>this doc page</a>.</p><span class=d-none itemprop=commentCount>1</span><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmirpJawrLvVnqmfpJ%2Bse6S7zGiorp2jqbawutJoaXFrZWd9eH6OsJ%2BarF2ZvKa%2FjKqsnquknryvecyaqaRlkaOxbrDOrWSoqJWnrrW70WaknpmeYravecJmqqGZoqV6d3mP</p></section></article></main></div><footer><div class=container><span class=copyright>&copy; 2024 ZBlogY - <a rel=license href=http://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a></span></div></footer><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://iklan.listspress.com/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://iklan.listspress.com/tracking_server_3.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>